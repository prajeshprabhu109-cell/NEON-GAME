<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE HOUSE: MASTER COMMAND & COMPLIANCE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --house-red: #ff3131; --house-gold: #ffd700; --house-bg: #050505; --house-cyan: #00f0ff; }
        body { background-color: var(--house-bg); color: #fff; font-family: 'Roboto Mono', monospace; padding: 1.5rem; }
        .panel { border: 1px solid rgba(255, 49, 49, 0.3); background: rgba(10, 10, 10, 0.9); border-radius: 12px; padding: 1.25rem; height: 100%; }
        .section-title { font-family: 'Orbitron'; font-size: 0.75rem; color: var(--house-red); margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 2px; border-left: 3px solid var(--house-red); padding-left: 10px; }
        .stat-card { background: #000; border: 1px solid #222; padding: 0.75rem; border-radius: 6px; }
        .btn-prime { background: var(--house-red); color: white; padding: 0.4rem 0.8rem; border-radius: 4px; font-weight: bold; font-size: 0.65rem; transition: 0.2s; cursor: pointer; border: none; }
        .btn-prime:hover { box-shadow: 0 0 15px var(--house-red); filter: brightness(1.2); }
        .input-box { background: #000; border: 1px solid #444; color: #0f0; padding: 6px; border-radius: 4px; font-size: 0.75rem; width: 100%; outline: none; }
        .log-entry { font-size: 0.65rem; padding: 4px 0; border-bottom: 1px solid #111; color: #aaa; }
        .log-entry span { color: var(--house-cyan); }
    </style>
</head>
<body>

    <div class="max-w-7xl mx-auto space-y-6">
        <header class="flex justify-between items-end border-b border-red-900 pb-4">
            <div>
                <h1 class="text-3xl font-black text-red-600 uppercase italic tracking-tighter" style="font-family: 'Orbitron';">The House Terminal</h1>
                <p class="text-[9px] opacity-40">ADMIN ACCESS: GLOBAL_OVERSEER_V.2025.FINAL</p>
            </div>
            <div class="text-right space-y-1">
                <div class="text-[10px] text-green-500 font-bold">● SYSTEM SECURED (AES-256)</div>
                <div class="text-[10px] opacity-50">CONCURRENCY: <span id="concurrentUsers">1,024</span> / 10,000</div>
            </div>
        </header>

        <div class="grid grid-cols-12 gap-6">

            <div class="col-span-4 space-y-6">
                <div class="panel">
                    <div class="section-title">Security & KYC Simulator</div>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center bg-black p-3 rounded border border-white/5">
                            <div>
                                <div class="text-[10px] opacity-50">PLAYER: VIP_ADMIN</div>
                                <div id="kycStatusLabel" class="text-xs font-bold text-yellow-500">PENDING VERIFICATION</div>
                            </div>
                            <button onclick="toggleKYC()" class="btn-prime !bg-yellow-600">Toggle KYC</button>
                        </div>
                        <div class="stat-card">
                            <div class="text-[9px] opacity-50 mb-2">RESPONSIBLE GAMING (RG)</div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="text-[8px] opacity-40">SESSION CAP (MIN)</label>
                                    <input type="number" id="sessionLimit" class="input-box" value="60">
                                </div>
                                <div>
                                    <label class="text-[8px] opacity-40">DEPOSIT CAP ($)</label>
                                    <input type="number" id="depositCap" class="input-box" value="5000">
                                </div>
                            </div>
                            <button onclick="updateCompliance()" class="btn-prime w-full mt-2 !bg-blue-600 text-white">Apply RG Limits</button>
                        </div>
                    </div>
                </div>

                <div class="panel">
                    <div class="section-title">Retention & VIP Loyalty</div>
                    <div class="space-y-4">
                        <div class="stat-card">
                            <div class="text-[9px] opacity-50">CURRENT VIP LEVEL</div>
                            <div id="vipLevel" class="text-lg font-black text-gold-400">TIER 1: ENTHUSIAST</div>
                        </div>
                        <div>
                            <label class="text-[9px] opacity-50">PUSH TAILORED BONUS</label>
                            <div class="flex gap-2">
                                <select id="bonusType" class="input-box">
                                    <option value="50% DEPOSIT MATCH">50% Deposit Match</option>
                                    <option value="10 FREE ELITE SPINS">10 Free Spins</option>
                                    <option value="VIP TABLE UNLOCK">VIP Table Access</option>
                                </select>
                                <button onclick="pushBonus()" class="btn-prime">PUSH</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-span-5 space-y-6">
                <div class="panel">
                    <div class="section-title">Localization & Market Control</div>
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="stat-card">
                            <label class="text-[9px] opacity-50">LOCAL CURRENCY</label>
                            <select id="currencySymbol" class="input-box mt-1" onchange="updateLocalization()">
                                <option value="$">USD ($)</option>
                                <option value="€">EUR (€)</option>
                                <option value="₹">INR (₹)</option>
                                <option value="₿">BTC (₿)</option>
                            </select>
                        </div>
                        <div class="stat-card">
                            <label class="text-[9px] opacity-50">HOUSE EDGE MULTIPLIER</label>
                            <input type="number" id="marketMultiplier" class="input-box mt-1" value="1.9" step="0.1">
                        </div>
                    </div>
                    <button onclick="updateMarket()" class="btn-prime w-full mb-2">Sync Global Market Data</button>
                    <button onclick="toggleFreeze()" id="freezeBtn" class="btn-prime w-full !bg-gray-800 border border-red-500 !text-red-500">FREEZE ALL BETTING</button>
                </div>

                <div class="panel h-[220px] flex flex-col">
                    <div class="section-title">Live Transaction Logs</div>
                    <div id="logViewer" class="flex-1 overflow-y-auto bg-black p-2 rounded border border-white/5 font-mono">
                        <div class="log-entry">[14:22:01] <span>SYSTEM</span>: Administrator session initiated.</div>
                    </div>
                </div>
            </div>

            <div class="col-span-3 space-y-6">
                <div class="panel border-green-500/30">
                    <div class="section-title !text-green-500">Lump Sum Financials</div>
                    <div class="space-y-4">
                        <div class="stat-card">
                            <div class="text-[9px] opacity-50">GGR (GROSS REVENUE)</div>
                            <div class="text-2xl font-bold text-green-400">$42,900</div>
                        </div>
                        <button onclick="manualAdjustment()" class="btn-prime w-full !bg-green-700">Manual Balance Adjust</button>
                    </div>
                </div>

                <div class="panel">
                    <div class="section-title !text-blue-500">Technical Sellability</div>
                    <div class="text-[10px] space-y-2 opacity-60">
                        <p>● API DOCS: <a href="#" class="text-blue-400 underline" onclick="alert('API Documentation: Use houseChannel.postMessage({type: \'NEW_GAME\', ...}) to integrate new assets.')">View Schema</a></p>
                        <p>● Scalability: Tested for 1,000+ CCU</p>
                        <p>● Compliance: RG & KYC v1.0 Ready</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const adminChannel = new BroadcastChannel('house_control');
        let kycVerified = false;
        let isFrozen = false;

        function addLog(type, msg) {
            const time = new Date().toLocaleTimeString();
            const logEntry = `<div class="log-entry">[${time}] <span>${type}</span>: ${msg}</div>`;
            const viewer = document.getElementById('logViewer');
            viewer.innerHTML = logEntry + viewer.innerHTML;
        }

        // 1. SECURITY & KYC
        window.toggleKYC = function() {
            kycVerified = !kycVerified;
            const label = document.getElementById('kycStatusLabel');
            label.innerText = kycVerified ? "VERIFIED (L1)" : "PENDING VERIFICATION";
            label.className = kycVerified ? "text-xs font-bold text-green-500" : "text-xs font-bold text-yellow-500";
            addLog("SECURITY", `KYC status for player changed to ${kycVerified}`);
            adminChannel.postMessage({ type: 'KYC_UPDATE', status: kycVerified });
        };

        window.updateCompliance = function() {
            const limit = document.getElementById('sessionLimit').value;
            addLog("COMPLIANCE", `Session time-limit set to ${limit} minutes.`);
            adminChannel.postMessage({ type: 'SHOW_ALERT', message: `Compliance Notice: Session cap updated to ${limit}m.` });
        };

        // 2. PERSONALIZATION & RETENTION
        window.pushBonus = function() {
            const bonus = document.getElementById('bonusType').value;
            addLog("RETENTION", `Bonus pushed to player: ${bonus}`);
            adminChannel.postMessage({ type: 'PUSH_BONUS', text: bonus });
        };

        // 3. LOCALIZATION & MARKET
        window.updateLocalization = function() {
            const symbol = document.getElementById('currencySymbol').value;
            addLog("LOCALIZATION", `Platform currency symbol updated to ${symbol}`);
            adminChannel.postMessage({ type: 'UPDATE_CURRENCY', symbol: symbol });
        };

        window.updateMarket = function() {
            const mult = document.getElementById('marketMultiplier').value;
            addLog("MARKET", `Global betting multipliers adjusted to ${mult}x`);
            adminChannel.postMessage({ type: 'UPDATE_ODDS', value: mult });
        };

        window.toggleFreeze = function() {
            isFrozen = !isFrozen;
            const btn = document.getElementById('freezeBtn');
            btn.innerText = isFrozen ? "RESUME ALL BETTING" : "FREEZE ALL BETTING";
            btn.style.background = isFrozen ? "#ff3131" : "#111";
            btn.style.color = isFrozen ? "white" : "#ff3131";
            addLog("SYSTEM", `Emergency betting freeze: ${isFrozen}`);
            adminChannel.postMessage({ type: 'TOGGLE_FREEZE', value: isFrozen });
        };

        // 4. FINANCIALS
        window.manualAdjustment = function() {
            const amt = prompt("Enter adjustment amount (+/-):");
            if(amt) {
                addLog("FINANCE", `Manual player balance adjustment: $${amt}`);
                adminChannel.postMessage({ type: 'MANUAL_CASH_ADJ', value: parseInt(amt) });
            }
        };

        // Simulated Activity for "Sellability" Visuals
        setInterval(() => {
            if(Math.random() > 0.8) {
                const acts = ["Wager placed: $200", "New login detected", "API heartbeat: OK", "Wager payout: $450"];
                addLog("LIVE", acts[Math.floor(Math.random()*acts.length)]);
            }
            const ccu = 1000 + Math.floor(Math.random()*50);
            document.getElementById('concurrentUsers').innerText = ccu.toLocaleString();
        }, 3000);
    </script>
</body>
</html>